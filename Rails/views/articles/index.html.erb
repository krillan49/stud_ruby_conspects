<h1>List of articles</h1>

<% @articles.each do |article| %>
  <h3><%= article.title %></h3>
  <p><%= article.text %></p>

  <!-- Можно писать и как в Синатре, но тогда получится хардкод: -->
  <a href="/articles/<%= article.id %>">Show article</a> | <a href="/articles/<%= article.id %>/edit">Edit article</a>

  <!-- https://guides.rubyonrails.org/routing.html#path-and-url-helpers  - _path методы -->

  <!--                   Ссылки на просмотр и редактирование статьи при помощи синтаксиса Rails -->
  <p><%= link_to  "Show article", article_path(article) %></p>
  <!-- <a href="/articles/2">Show article</a> -->
  <!-- article_path(article) - параметром в метод передается сущность article, в итоге перейдет на /articles/id -->
  <p><%= link_to  "Edit article", edit_article_path(article) %></p>
  <!-- <a href="/articles/2/edit">Edit article</a> -->
  <!-- edit_article_path(article) - в итоге перейдет на /articles/id/edit -->

  <!--                  Ссылка на удаление статьи -->
  <p><%= button_to  "Destroy", article_path(article), method: :delete, data: { confirm: 'Действительно удалить?'} %></p>
  <!-- button_to - для кнопки удаления вместо ссылки удаления link_to, тк на Rails версии 7+ вероятен баг - не удаляется статья (из браузера). Это происходит из-за того, что в Rails 7 отключен UJS. -->
  <!-- <a rel="nofollow" data-method="delete" href="/articles/2">Destroy article</a> -->
  <!-- <form class="button_to" method="post" action="/articles/1"><input type="hidden" name="_method" value="delete" autocomplete="off" /><button type="submit">Destroy article</button> -->
  <!-- data: { confirm: 'Действительно удалить?'} - необязательный элемент c окном подтверждения -->
  <!-- data-method="delete" - кастомный атрибут Рэилс
    data-some_name атрибуты нужны для того чтобы мы могли создать собственные атрибуты(some_name - на выбор). html-валидатор будет знать что это кастомный атрибут, браузер их не обрабатыает
    Файл turbolinks через скрипт обрабатывает атрибуты data-* встречающиеся в коде html
    Работа атрибута data-method="delete":
      1. скрипт сканирует страницу и ищет атрибут data-method="delete"
      2. если находит - создаёт форму, которая будет отправлять с помощью метода delete на URL /articles/id через POST
      3. устанавливает свой обработчик, при котором при нажатии на ссылку вызывается сабмит формы. Запрос отправляется с помощью технологии ajax
  -->

  <hr>
<% end %>







<!--  -->
